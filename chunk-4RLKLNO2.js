import{Ba as c,Kb as v,Ma as d,Oa as l,Qa as P,bb as n,cb as t,db as u,ob as p,pb as m,ub as s,wb as f,yb as e}from"./chunk-VGBZW4EW.js";var D=["*"],O=".live-result[_ngcontent-%COMP%]{padding:10px;font-size:16px;font-weight:600;background:#ffffff08;border-radius:6px;margin-bottom:6px}",M=()=>({backgroundColor:"rgb(0, 200, 200)",color:"rgb(200, 0, 200)"}),F=".anomaly-grid[_ngcontent-%COMP%]{display:grid;gap:10px}.anomaly-item[_ngcontent-%COMP%]{background:var(--adev-surface-2, #0f172a);border:1px solid var(--adev-border, #334155);border-radius:8px;padding:12px}.anomaly-label[_ngcontent-%COMP%]{display:block;font-size:11px;color:var(--adev-text-secondary, #94a3b8);margin-bottom:8px;font-family:JetBrains Mono,monospace}.anomaly-result[_ngcontent-%COMP%]{padding:12px;font-size:15px;font-weight:600;border-radius:6px;margin-bottom:4px}.anomaly-expected[_ngcontent-%COMP%]{font-size:11px;color:var(--adev-text-secondary, #94a3b8);font-style:italic}",g=class o{static \u0275fac=function(i){return new(i||o)};static \u0275dir=l({type:o,selectors:[["","dirRed",""]],hostVars:4,hostBindings:function(i,a){i&2&&s("color","red")("font-weight","bold")}})},x=class o{static \u0275fac=function(i){return new(i||o)};static \u0275dir=l({type:o,selectors:[["","dirBlue",""]],hostVars:4,hostBindings:function(i,a){i&2&&s("color","blue")("font-style","italic")}})},B=class o{color="green";decoration="underline";static \u0275fac=function(i){return new(i||o)};static \u0275dir=l({type:o,selectors:[["","dirGreen",""]],hostVars:4,hostBindings:function(i,a){i&2&&s("color",a.color)("text-decoration",a.decoration)}})},b=class o{static \u0275fac=function(i){return new(i||o)};static \u0275dir=l({type:o,selectors:[["","dirPurpleBg",""]],hostVars:4,hostBindings:function(i,a){i&2&&s("background-color","rgb(230, 200, 255)")("color","rgb(100, 0, 200)")}})},y=class o{color="rgb(255, 200, 200)";static \u0275fac=function(i){return new(i||o)};static \u0275dir=l({type:o,selectors:[["","colorHostDir",""]],hostVars:2,hostBindings:function(i,a){i&2&&s("background-color",a.color)}})},h=class o{ownColor="rgb(200, 255, 200)";static \u0275fac=function(i){return new(i||o)};static \u0275dir=l({type:o,selectors:[["","dirWithHost",""]],hostVars:2,hostBindings:function(i,a){i&2&&s("background-color",a.ownColor)},features:[P([y])]})},k=class o{static \u0275fac=function(i){return new(i||o)};static \u0275cmp=d({type:o,selectors:[["styled-box"]],hostVars:10,hostBindings:function(i,a){i&2&&s("color","purple")("border","2px solid purple")("padding","8px 12px")("display","inline-block")("border-radius","4px")},ngContentSelectors:D,decls:1,vars:0,template:function(i,a){i&1&&(p(),m(0))},encapsulation:2})},S=class o{static \u0275fac=function(i){return new(i||o)};static \u0275cmp=d({type:o,selectors:[["red-first-wrapper"]],ngContentSelectors:D,decls:2,vars:0,consts:[["dirRed","","dirBlue","",1,"live-result"]],template:function(i,a){i&1&&(p(),n(0,"div",0),m(1),t())},dependencies:[g,x],styles:[O]})},C=class o{static \u0275fac=function(i){return new(i||o)};static \u0275cmp=d({type:o,selectors:[["blue-first-wrapper"]],ngContentSelectors:D,decls:2,vars:0,consts:[["dirRed","","dirBlue","",1,"live-result"]],template:function(i,a){i&1&&(p(),n(0,"div",0),m(1),t())},dependencies:[x,g],styles:[O]})},E=class o{static \u0275fac=function(i){return new(i||o)};static \u0275cmp=d({type:o,selectors:[["style-map-vs-host"]],decls:20,vars:10,consts:[[1,"anomaly-grid"],[1,"anomaly-item"],[1,"anomaly-label"],[1,"anomaly-result"],["dirPurpleBg","",1,"anomaly-result"],[1,"anomaly-expected"]],template:function(i,a){i&1&&(n(0,"div",0)(1,"div",1)(2,"span",2),e(3,"[style] map only (no directive)"),t(),n(4,"div",3),e(5,"Cyan bg, Magenta text"),t()(),n(6,"div",1)(7,"span",2),e(8,"dirPurpleBg + [style] map"),t(),n(9,"div",4),e(10," Who wins? Check background! "),t(),n(11,"span",5),e(12,"Module: Cyan wins. Standalone: ???"),t()(),n(13,"div",1)(14,"span",2),e(15,"dirPurpleBg + [style.backgroundColor] individual"),t(),n(16,"div",4),e(17," Individual always wins! "),t(),n(18,"span",5),e(19,"Both: Cyan wins (individual always highest)"),t()()()),i&2&&(c(4),f(v(8,M)),c(5),f(v(9,M)),c(7),s("background-color","rgb(0, 200, 200)")("color","rgb(200, 0, 200)"))},dependencies:[b],styles:[F]})},w=class o{static \u0275fac=function(i){return new(i||o)};static \u0275cmp=d({type:o,selectors:[["host-directive-test"]],decls:8,vars:0,consts:[[1,"anomaly-grid"],[1,"anomaly-item"],[1,"anomaly-label"],["dirWithHost","",1,"anomaly-result",2,"padding","12px","color","black","font-weight","600"],[1,"anomaly-expected"]],template:function(i,a){i&1&&(n(0,"div",0)(1,"div",1)(2,"span",2),e(3,"dirWithHost \u2014 directive sets green bg, its hostDirective sets red bg"),t(),n(4,"div",3),e(5," Which background wins? Green (directive) or Red (hostDirective)? "),t(),n(6,"span",4),e(7,"Expected: Green (directive beats its own hostDirective)"),t()()())},dependencies:[h],styles:[F]})},_=class o{static \u0275fac=function(i){return new(i||o)};static \u0275cmp=d({type:o,selectors:[["app-style-precedence-demo"]],decls:171,vars:8,consts:[[1,"demo-container"],[1,"demo-header"],[1,"badge","prec-badge"],[1,"demo-description"],[1,"example-section"],[1,"feat-badge"],[1,"desc"],[1,"anomaly-box"],[1,"live-grid"],[1,"live-box"],[1,"live-label"],[1,"live-explain"],[1,"live-result",2,"color","black","padding","10px"],[1,"detect-grid"],[1,"detect-card"],[1,"detect-code"]],template:function(i,a){i&1&&(n(0,"div",0)(1,"div",1)(2,"h2"),e(3,"Style Binding Precedence Bugs"),t(),n(4,"span",2),e(5,"Standalone"),t()(),n(6,"p",3),e(7," Live demonstrations of "),n(8,"strong"),e(9,"actual bugs and surprising behaviors"),t(),e(10," in Angular's style binding precedence system. These affect standalone components and have no obvious workaround. CSS IntelliSense detects these conflicts and warns about them. "),t(),n(11,"div",4)(12,"h3")(13,"span",5),e(14,"BUG"),t(),e(15," Template [style] Map Loses to Directive Host"),t(),n(16,"p",6),e(17,"Template bindings should always beat host bindings. But in standalone components, directive host bindings can override "),n(18,"code"),e(19,'[style]="{...}"'),t(),e(20," maps. Only "),n(21,"code"),e(22,"[style.prop]"),t(),e(23," (individual) is guaranteed to win:"),t(),u(24,"style-map-vs-host"),n(25,"div",7)(26,"strong"),e(27,"\u26A0\uFE0F Bug:"),t(),e(28," In module-based, "),n(29,"code"),e(30,'[style]="{...}"'),t(),e(31," (template map) correctly beats directive host. In standalone, directive host bindings beat the template style map. Only "),n(32,"code"),e(33,"[style.prop]"),t(),e(34," (individual) is guaranteed to have the highest priority in both modes. "),t()(),n(35,"div",4)(36,"h3")(37,"span",5),e(38,"BUG"),t(),n(39,"code"),e(40,"imports[]"),t(),e(41," Order Silently Changes Style Winner"),t(),n(42,"p",6),e(43,"Both wrappers render the same template ("),n(44,"code"),e(45,"<div dirRed dirBlue>"),t(),e(46,"), but with different "),n(47,"code"),e(48,"imports[]"),t(),e(49," order. Reordering imports silently changes which directive's styles win \u2014 with no hint in the template:"),t(),n(50,"div",8)(51,"div",9)(52,"span",10),e(53,"imports: [DirRed, DirBlue] \u2192 Blue wins"),t(),n(54,"red-first-wrapper"),e(55,"This text shows: Blue wins"),t(),n(56,"span",11),e(57,"DirBlue is last in imports[] \u2192 blue wins"),t()(),n(58,"div",9)(59,"span",10),e(60,"imports: [DirBlue, DirRed] \u2192 Red wins"),t(),n(61,"blue-first-wrapper"),e(62,"This text shows: Red wins"),t(),n(63,"span",11),e(64,"DirRed is last in imports[] \u2192 red wins"),t()()(),n(65,"div",7)(66,"strong"),e(67,"\u26A0\uFE0F Impact:"),t(),e(68," A refactor that reorders "),n(69,"code"),e(70,"imports[]"),t(),e(71," (e.g., alphabetical sorting, auto-import) silently changes which styles win. Unlike CSS specificity, this is "),n(72,"em"),e(73,"invisible in the template"),t(),e(74,". CSS IntelliSense (diagnostic 99005) detects this. "),t()(),n(75,"div",4)(76,"h3")(77,"span",5),e(78,"BUG"),t(),e(79," CSS Property Name Variants: Last Variant Wins"),t(),n(80,"p",6),e(81,"When both "),n(82,"code"),e(83,"[style.background-color]"),t(),e(84," and "),n(85,"code"),e(86,"[style.backgroundColor]"),t(),e(87," are set on the same element, the "),n(88,"strong"),e(89,"last binding in template order"),t(),e(90," wins:"),t(),n(91,"div",8)(92,"div",9)(93,"span",10),e(94,'[style.background-color]="pink" + [style.backgroundColor]="lightblue"'),t(),n(95,"div",12),e(96," Which variant wins? "),t(),n(97,"span",11),e(98,"Last variant (camelCase) wins \u2192 lightblue"),t()(),n(99,"div",9)(100,"span",10),e(101,'[style.backgroundColor]="lightblue" + [style.background-color]="pink"'),t(),n(102,"div",12),e(103," Which variant wins? "),t(),n(104,"span",11),e(105,"Swapped order \u2192 winner changes to pink"),t()()(),n(106,"div",7)(107,"strong"),e(108,"\u26A0\uFE0F Bug:"),t(),e(109," The "),n(110,"strong"),e(111,"last property variant wins"),t(),e(112," (second binding overrides first). Kebab-case and camelCase are treated as the same CSS property but resolve based on binding order. A formatter or auto-sort can silently change the visual outcome. "),t()(),n(113,"div",4)(114,"h3")(115,"span",5),e(116,"BUG"),t(),e(117," Directive vs Its hostDirective: Priority Unclear"),t(),n(118,"p",6),e(119,"A directive's own "),n(120,"code"),e(121,"@HostBinding"),t(),e(122," should beat its "),n(123,"code"),e(124,"hostDirectives"),t(),e(125,". The hostDirective slots in "),n(126,"em"),e(127,"below"),t(),e(128," its parent in the priority chain, but this isn't documented:"),t(),u(129,"host-directive-test"),n(130,"div",7)(131,"strong"),e(132,"\u26A0\uFE0F Issue:"),t(),e(133," The "),n(134,"code"),e(135,"hostDirectives"),t(),e(136," API doesn't document how style priority interacts with the parent directive's own host bindings. The behavior is correct (parent wins) but undocumented. "),t()(),n(137,"div",4)(138,"h3"),e(139,"What CSS IntelliSense Detects"),t(),n(140,"p",6),e(141,"The Language Service uses its own precedence model to flag these conflicts:"),t(),n(142,"div",13)(143,"div",14)(144,"span",15),e(145,"99005"),t(),n(146,"strong"),e(147,"CONFLICTING_STYLE_BINDING"),t(),n(148,"p"),e(149,"Same CSS property set via multiple binding types (e.g., template + directive host)"),t()(),n(150,"div",14)(151,"span",15),e(152,"99020"),t(),n(153,"strong"),e(154,"DUPLICATE_STYLE_BINDING"),t(),n(155,"p"),e(156,"Same property set multiple times via same binding type (e.g., two [style.color])"),t()(),n(157,"div",14)(158,"span",15),e(159,"99014"),t(),n(160,"strong"),e(161,"SHORTHAND_OVERRIDE"),t(),n(162,"p"),e(163,"Shorthand (e.g., [style.background]) overrides longhand (e.g., [style.background-color])"),t()(),n(164,"div",14)(165,"span",15),e(166,"99411/99412"),t(),n(167,"strong"),e(168,"SHADOWS_INPUT"),t(),n(169,"p"),e(170,"[class] or [style] binding shadows a directive @Input('class') or @Input('style')"),t()()()()()),i&2&&(c(95),s("background-color","pink")("background-color","lightblue"),c(7),s("background-color","lightblue")("background-color","pink"))},dependencies:[S,C,E,w],styles:[".demo-container[_ngcontent-%COMP%]{max-width:960px;margin:0 auto;padding:24px}.demo-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:8px;flex-wrap:wrap}.demo-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px;font-weight:700;margin:0}.badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:6px;font-size:11px;font-weight:700;text-transform:uppercase}.prec-badge[_ngcontent-%COMP%]{background:#fb923c1f;color:#fb923c;border:1px solid rgba(251,146,60,.25)}.demo-description[_ngcontent-%COMP%]{color:var(--adev-text-secondary, #94a3b8);font-size:14px;line-height:1.7;margin-bottom:20px}.example-section[_ngcontent-%COMP%]{background:var(--adev-surface, #1e293b);border:1px solid var(--adev-border, #334155);border-radius:12px;padding:20px;margin-bottom:16px}.example-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin:0 0 8px;display:flex;align-items:center;gap:8px}.desc[_ngcontent-%COMP%]{color:var(--adev-text-secondary, #94a3b8);font-size:13px;margin:0 0 12px;line-height:1.6}.note[_ngcontent-%COMP%]{font-size:12px;color:var(--adev-text-secondary, #94a3b8);margin-top:10px;line-height:1.6}.feat-badge[_ngcontent-%COMP%]{background:#f0a0c826;color:#f0a0c8;padding:2px 8px;border-radius:4px;font-size:10px;font-weight:700}code[_ngcontent-%COMP%]{background:#f0a0c814;color:#f0a0c8;padding:1px 5px;border-radius:3px;font-family:JetBrains Mono,monospace;font-size:12px}.live-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:12px}.live-box[_ngcontent-%COMP%]{background:var(--adev-surface-2, #0f172a);border:1px solid var(--adev-border, #334155);border-radius:8px;padding:12px}.live-label[_ngcontent-%COMP%]{display:block;font-size:11px;color:var(--adev-text-secondary, #94a3b8);margin-bottom:8px;font-family:JetBrains Mono,monospace}.live-result[_ngcontent-%COMP%]{padding:10px;font-size:16px;font-weight:600;background:#ffffff08;border-radius:6px;margin-bottom:6px}.live-explain[_ngcontent-%COMP%]{font-size:11px;color:var(--adev-text-secondary, #94a3b8);font-style:italic}.anomaly-box[_ngcontent-%COMP%]{background:#fb923c14;border:1px solid rgba(251,146,60,.3);border-radius:8px;padding:12px 16px;margin-top:12px;font-size:13px;line-height:1.6}.detect-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:10px}.detect-card[_ngcontent-%COMP%]{background:var(--adev-surface-2, #0f172a);border:1px solid var(--adev-border, #334155);border-radius:8px;padding:12px}.detect-code[_ngcontent-%COMP%]{display:inline-block;background:#f0a0c81f;color:#f0a0c8;padding:2px 8px;border-radius:4px;font-family:JetBrains Mono,monospace;font-size:11px;font-weight:700;margin-bottom:4px}.detect-card[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:12px;margin-bottom:4px;font-family:JetBrains Mono,monospace}.detect-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;color:var(--adev-text-secondary, #94a3b8);margin:0;line-height:1.5}@media(max-width:700px){.live-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};export{C as BlueFirstWrapperComponent,y as ColorHostDirective,x as DirBlueDirective,B as DirGreenDirective,b as DirPurpleBgDirective,g as DirRedDirective,h as DirWithHostDirective,w as HostDirectiveTestComponent,S as RedFirstWrapperComponent,E as StyleMapVsHostComponent,_ as StylePrecedenceDemoComponent,k as StyledBoxComponent};

import{g as I}from"./chunk-ZR36ZOY7.js";import{Ab as E,Ba as i,Cb as k,Ma as C,Mb as c,Nb as p,Pa as O,ab as _,bb as n,cb as t,da as S,db as w,eb as d,fb as o,lb as b,xb as e,yb as a,zb as h}from"./chunk-GNDRV6NL.js";var y=class x{transform(m){return m===null?"null":m===void 0?"undefined":String(m)}static \u0275fac=function(r){return new(r||x)};static \u0275pipe=O({name:"stringifyNullish",type:x,pure:!0})},M=class x{config=S(null);set configData(m){this.config.set(m)}static \u0275fac=function(r){return new(r||x)};static \u0275cmp=C({type:x,selectors:[["app-legacy-chaining"]],inputs:{configData:"configData"},decls:43,vars:16,consts:[[1,"panel","legacy"],[1,"badge","legacy-badge"],[1,"small"],[1,"result-row"],[1,"value"],[1,"comparison-box"],[1,"result-true"]],template:function(r,l){if(r&1&&(d(0,"div",0)(1,"h3"),e(2,"Legacy Component"),o(),d(3,"span",1),e(4,"optionalChainingSemantics: 'legacy'"),o(),d(5,"p",2),e(6,"a?.b returns "),d(7,"strong"),e(8,"null"),o(),e(9," when a is nullish"),o(),d(10,"div",3)(11,"code"),e(12,"config?.theme"),o(),d(13,"span",4),e(14),c(15,"stringifyNullish"),o()(),d(16,"div",3)(17,"code"),e(18,"config?.api?.baseUrl"),o(),d(19,"span",4),e(20),c(21,"stringifyNullish"),o()(),d(22,"div",3)(23,"code"),e(24,"config?.api?.timeout"),o(),d(25,"span",4),e(26),c(27,"stringifyNullish"),o()(),d(28,"div",3)(29,"code"),e(30,"config?.api?.headers?.authorization"),o(),d(31,"span",4),e(32),c(33,"stringifyNullish"),o()(),d(34,"div",5)(35,"p")(36,"strong"),e(37,"Strict equality (legacy):"),o()(),d(38,"code"),e(39,"config?.api?.timeout === null"),o(),d(40,"span",6),e(41),c(42,"stringifyNullish"),o()()()),r&2){let g,v,f,u,s;i(14),a(p(15,6,(g=l.config())==null?null:g.theme)),i(6),a(p(21,8,(v=l.config())==null||v.api==null?null:v.api.baseUrl)),i(6),a(p(27,10,(f=l.config())==null||f.api==null?null:f.api.timeout)),i(6),a(p(33,12,(u=l.config())==null||u.api==null||u.api.headers==null?null:u.api.headers.authorization)),i(9),E("",((s=l.config())==null||s.api==null?null:s.api.timeout)===null," (returns ",p(42,14,(s=l.config())==null||s.api==null?null:s.api.timeout),")")}},dependencies:[y],styles:[".panel[_ngcontent-%COMP%]{padding:20px;border-radius:8px;height:100%}.legacy[_ngcontent-%COMP%]{background:var(--adev-surface);border:1px solid var(--adev-warning)}h3[_ngcontent-%COMP%]{margin-top:0;color:var(--adev-text);font-weight:600}.badge[_ngcontent-%COMP%]{display:inline-block;padding:3px 10px;border-radius:6px;font-size:11px;font-weight:600;font-family:JetBrains Mono,monospace}.legacy-badge[_ngcontent-%COMP%]{background:#fbbf241f;color:#fbbf24}.small[_ngcontent-%COMP%]{font-size:13px;color:var(--adev-text-secondary)}code[_ngcontent-%COMP%]{background:var(--adev-code-bg);border:1px solid var(--adev-code-border);padding:2px 6px;border-radius:4px;font-size:12px;color:var(--adev-primary)}.result-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;margin:6px 0;background:var(--adev-surface-2);border-radius:6px}.value[_ngcontent-%COMP%]{font-weight:600;color:var(--adev-warning)}.comparison-box[_ngcontent-%COMP%]{margin-top:12px;padding:10px 14px;background:#f8717114;border-radius:6px;border-left:3px solid var(--adev-error)}.comparison-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--adev-text-secondary)}.comparison-box[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{color:var(--adev-error)}.result-true[_ngcontent-%COMP%]{display:block;margin-top:4px;font-weight:700;color:var(--adev-success)}"]})},P=class x{config=S(null);set configData(m){this.config.set(m)}static \u0275fac=function(r){return new(r||x)};static \u0275cmp=C({type:x,selectors:[["app-native-chaining"]],inputs:{configData:"configData"},decls:43,vars:16,consts:[[1,"panel","native"],[1,"badge","native-badge"],[1,"small"],[1,"result-row"],[1,"value"],[1,"comparison-box"],[1,"result-false"]],template:function(r,l){if(r&1&&(d(0,"div",0)(1,"h3"),e(2,"Native Component"),o(),d(3,"span",1),e(4,"optionalChainingSemantics: 'native'"),o(),d(5,"p",2),e(6,"a?.b returns "),d(7,"strong"),e(8,"undefined"),o(),e(9," when a is nullish"),o(),d(10,"div",3)(11,"code"),e(12,"config?.theme"),o(),d(13,"span",4),e(14),c(15,"stringifyNullish"),o()(),d(16,"div",3)(17,"code"),e(18,"config?.api?.baseUrl"),o(),d(19,"span",4),e(20),c(21,"stringifyNullish"),o()(),d(22,"div",3)(23,"code"),e(24,"config?.api?.timeout"),o(),d(25,"span",4),e(26),c(27,"stringifyNullish"),o()(),d(28,"div",3)(29,"code"),e(30,"config?.api?.headers?.authorization"),o(),d(31,"span",4),e(32),c(33,"stringifyNullish"),o()(),d(34,"div",5)(35,"p")(36,"strong"),e(37,"Strict equality (native):"),o()(),d(38,"code"),e(39,"config?.api?.timeout === null"),o(),d(40,"span",6),e(41),c(42,"stringifyNullish"),o()()()),r&2){let g,v,f,u,s;i(14),a(p(15,6,(g=l.config())==null?void 0:g.theme)),i(6),a(p(21,8,(v=l.config())==null||v.api==null?void 0:v.api.baseUrl)),i(6),a(p(27,10,(f=l.config())==null||f.api==null?void 0:f.api.timeout)),i(6),a(p(33,12,(u=l.config())==null||u.api==null||u.api.headers==null?void 0:u.api.headers.authorization)),i(9),E("",((s=l.config())==null||s.api==null?void 0:s.api.timeout)===null," (returns ",p(42,14,(s=l.config())==null||s.api==null?void 0:s.api.timeout),")")}},dependencies:[y],styles:[".panel[_ngcontent-%COMP%]{padding:20px;border-radius:8px;height:100%}.native[_ngcontent-%COMP%]{background:var(--adev-surface);border:1px solid var(--adev-info)}h3[_ngcontent-%COMP%]{margin-top:0;color:var(--adev-text);font-weight:600}.badge[_ngcontent-%COMP%]{display:inline-block;padding:3px 10px;border-radius:6px;font-size:11px;font-weight:600;font-family:JetBrains Mono,monospace}.native-badge[_ngcontent-%COMP%]{background:#60a5fa1f;color:#60a5fa}.small[_ngcontent-%COMP%]{font-size:13px;color:var(--adev-text-secondary)}code[_ngcontent-%COMP%]{background:var(--adev-code-bg);border:1px solid var(--adev-code-border);padding:2px 6px;border-radius:4px;font-size:12px;color:var(--adev-primary)}.result-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;margin:6px 0;background:var(--adev-surface-2);border-radius:6px}.value[_ngcontent-%COMP%]{font-weight:600;color:var(--adev-info)}.comparison-box[_ngcontent-%COMP%]{margin-top:12px;padding:10px 14px;background:#f8717114;border-radius:6px;border-left:3px solid var(--adev-error)}.comparison-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--adev-text-secondary)}.comparison-box[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{color:var(--adev-error)}.result-false[_ngcontent-%COMP%]{display:block;margin-top:4px;font-weight:700;color:var(--adev-error)}"]})},D=class x{currentConfig=S(null);fullConfig={theme:"dark",debug:!0,api:{baseUrl:"https://api.example.com",timeout:5e3,headers:{authorization:"Bearer token123"}}};partialConfig={theme:"light",api:{baseUrl:"https://api.example.com"}};minimalConfig={theme:"auto"};setFullConfig(){this.currentConfig.set(this.fullConfig)}setPartialConfig(){this.currentConfig.set(this.partialConfig)}setMinimalConfig(){this.currentConfig.set(this.minimalConfig)}setNullConfig(){this.currentConfig.set(null)}ngOnInit(){this.setPartialConfig()}static \u0275fac=function(r){return new(r||x)};static \u0275cmp=C({type:x,selectors:[["app-mixed-chaining-demo"]],decls:601,vars:56,consts:[[1,"demo-container"],[1,"description"],[1,"config-section"],[1,"config-code"],[1,"config-note"],[1,"side-by-side"],[3,"configData"],[1,"data-controls"],[1,"control-buttons"],[3,"click"],[1,"null-btn",3,"click"],[1,"data-preview"],[1,"migration-section"],[1,"migration-steps"],[1,"step"],[1,"step-num"],[1,"examples-section"],[1,"example-group","safe"],[1,"group-description"],[1,"example-row"],[1,"before"],[1,"arrow"],[1,"after"],[1,"reason"],[1,"example-group","sensitive"],[1,"example-group","best-effort"],[1,"host-bindings-section"],[1,"note-box","gap-note"],[1,"status-highlight"],[1,"status-icon"],[1,"inlay-hints-section"],[1,"native-hint"],[1,"legacy-hint"],[1,"note-box"],[1,"issues-section"],[1,"issues-intro"],[1,"issue-card"],[1,"issue-header"],["href","https://github.com/angular/angular/issues/34385","target","_blank",1,"issue-link"],[1,"issue-title"],[1,"issue-desc"],[1,"issue-tags"],[1,"tag"],[1,"addressed"],["href","https://github.com/angular/angular/issues/37622","target","_blank",1,"issue-link"],["href","https://github.com/angular/angular/issues/37619","target","_blank",1,"issue-link"]],template:function(r,l){r&1&&(n(0,"div",0)(1,"h2"),e(2,"Mix and Match: Legacy + Native Optional Chaining"),t(),n(3,"p",1),e(4," Both components receive the "),n(5,"strong"),e(6,"same data"),t(),e(7," but use different "),n(8,"code"),e(9,"optionalChainingSemantics"),t(),e(10,". They coexist in the same app, proving per-component override works alongside the project-wide setting. "),t(),n(11,"div",2)(12,"h3"),e(13,"tsconfig.json (project-wide)"),t(),n(14,"pre",3),e(15),t(),n(16,"p",4),e(17," Each component can override via "),n(18,"code"),e(19,"optionalChainingSemantics: 'legacy'"),t(),e(20," or "),n(21,"code"),e(22,"'native'"),t(),e(23," in its @Component decorator. "),t()(),n(24,"div",5),w(25,"app-legacy-chaining",6)(26,"app-native-chaining",6),t(),n(27,"div",7)(28,"h3"),e(29,"Test Data"),t(),n(30,"div",8)(31,"button",9),b("click",function(){return l.setFullConfig()}),e(32,"Full Config"),t(),n(33,"button",9),b("click",function(){return l.setPartialConfig()}),e(34,"Partial Config"),t(),n(35,"button",9),b("click",function(){return l.setMinimalConfig()}),e(36,"Minimal Config"),t(),n(37,"button",10),b("click",function(){return l.setNullConfig()}),e(38,"Null Config"),t()(),n(39,"pre",11),e(40),c(41,"json"),t()(),n(42,"div",12)(43,"h3"),e(44,"Migration Path"),t(),n(45,"div",13)(46,"div",14)(47,"span",15),e(48,"1"),t(),n(49,"div")(50,"strong"),e(51,"Enable diagnostic warning"),t(),n(52,"p")(53,"code"),e(54,'"legacySafeNavigationUsage": "warning"'),t(),e(55," in extended diagnostics"),t()()(),n(56,"div",14)(57,"span",15),e(58,"2"),t(),n(59,"div")(60,"strong"),e(61,"Run migration schematic"),t(),n(62,"p")(63,"code"),e(64,"ng generate @angular/core:optional-chaining-semantics-migration"),t()()()(),n(65,"div",14)(66,"span",15),e(67,"3"),t(),n(68,"div")(69,"strong"),e(70,"Enable native semantics"),t(),n(71,"p")(72,"code"),e(73,'"strictOptionalChainingSemantics": true'),t(),e(74," in tsconfig"),t()()(),n(75,"div",14)(76,"span",15),e(77,"4"),t(),n(78,"div")(79,"strong"),e(80,"Per-component override"),t(),n(81,"p"),e(82,"Override individual components that need legacy behavior"),t()()()()(),n(83,"div",16)(84,"h3"),e(85,"Migration Examples (from actual schematic tests)"),t(),n(86,"div",17)(87,"h4"),e(88,"Safe Contexts (no change needed)"),t(),n(89,"p",18),e(90," These expressions behave identically with null or undefined \u2014 the migration schematic leaves them as-is. "),t(),n(91,"div",19)(92,"div",20)(93,"code"),e(94),t()(),n(95,"div",21),e(96,"\u2192"),t(),n(97,"div",22)(98,"code"),e(99),t()(),n(100,"div",23),e(101,'Interpolation renders both null and undefined as ""'),t()(),n(102,"div",19)(103,"div",20)(104,"code"),e(105),t()(),n(106,"div",21),e(107,"\u2192"),t(),n(108,"div",22)(109,"code"),e(110),t()(),n(111,"div",23),e(112,"Deep chains in interpolation \u2014 same rendering"),t()(),n(113,"div",19)(114,"div",20)(115,"code"),e(116),t()(),n(117,"div",21),e(118,"\u2192"),t(),n(119,"div",22)(120,"code"),e(121),t()(),n(122,"div",23),e(123,"?? catches both null and undefined"),t()(),n(124,"div",19)(125,"div",20)(126,"code"),e(127),t()(),n(128,"div",21),e(129,"\u2192"),t(),n(130,"div",22)(131,"code"),e(132),t()(),n(133,"div",23),e(134,"|| treats both as falsy"),t()(),n(135,"div",19)(136,"div",20)(137,"code"),e(138),t()(),n(139,"div",21),e(140,"\u2192"),t(),n(141,"div",22)(142,"code"),e(143),t()(),n(144,"div",23),e(145,"Both are falsy \u2014 same short-circuit"),t()(),n(146,"div",19)(147,"div",20)(148,"code"),e(149),t()(),n(150,"div",21),e(151,"\u2192"),t(),n(152,"div",22)(153,"code"),e(154),t()(),n(155,"div",23),e(156,"Negation: both falsy = true"),t()(),n(157,"div",19)(158,"div",20)(159,"code"),e(160),t()(),n(161,"div",21),e(162,"\u2192"),t(),n(163,"div",22)(164,"code"),e(165),t()(),n(166,"div",23),e(167,"Loose equality: null == undefined is true"),t()(),n(168,"div",19)(169,"div",20)(170,"code"),e(171),t()(),n(172,"div",21),e(173,"\u2192"),t(),n(174,"div",22)(175,"code"),e(176),t()(),n(177,"div",23),e(178,"Loose inequality: same rule"),t()(),n(179,"div",19)(180,"div",20)(181,"code"),e(182),t()(),n(183,"div",21),e(184,"\u2192"),t(),n(185,"div",22)(186,"code"),e(187),t()(),n(188,"div",23),e(189,"Condition position \u2014 truthiness check only"),t()(),n(190,"div",19)(191,"div",20)(192,"code"),e(193,"@if (user?.address)"),t()(),n(194,"div",21),e(195,"\u2192"),t(),n(196,"div",22)(197,"code"),e(198,"@if (user?.address)"),t()(),n(199,"div",23),e(200,"@if condition: both null and undefined are falsy"),t()(),n(201,"div",19)(202,"div",20)(203,"code"),e(204),t()(),n(205,"div",21),e(206,"\u2192"),t(),n(207,"div",22)(208,"code"),e(209),t()(),n(210,"div",23),e(211,"@else if: also a truthiness check, safe"),t()(),n(212,"div",19)(213,"div",20)(214,"code"),e(215,"@if (user?.address; as addr)"),t()(),n(216,"div",21),e(217,"\u2192"),t(),n(218,"div",22)(219,"code"),e(220,"@if (user?.address; as addr)"),t()(),n(221,"div",23),e(222,"@if with alias: condition is still a truthiness check"),t()(),n(223,"div",19)(224,"div",20)(225,"code"),e(226,"@defer (when config?.ready)"),t()(),n(227,"div",21),e(228,"\u2192"),t(),n(229,"div",22)(230,"code"),e(231,"@defer (when config?.ready)"),t()(),n(232,"div",23),e(233,"@defer when: boolean-like condition, safe"),t()(),n(234,"div",19)(235,"div",20)(236,"code"),e(237,'[class.active]="item?.selected"'),t()(),n(238,"div",21),e(239,"\u2192"),t(),n(240,"div",22)(241,"code"),e(242,'[class.active]="item?.selected"'),t()(),n(243,"div",23),e(244,"Class binding: truthy/falsy check, safe"),t()(),n(245,"div",19)(246,"div",20)(247,"code"),e(248,'[hidden]="!user?.isVisible"'),t()(),n(249,"div",21),e(250,"\u2192"),t(),n(251,"div",22)(252,"code"),e(253,'[hidden]="!user?.isVisible"'),t()(),n(254,"div",23),e(255,"Property binding with negation: safe"),t()()(),n(256,"div",24)(257,"h4"),e(258,"Sensitive Contexts (MUST convert \u2014 ternary form)"),t(),n(259,"p",18),e(260," These expressions would behave differently with null vs undefined. The migration converts them to explicit ternary guards. "),t(),n(261,"div",19)(262,"div",20)(263,"code"),e(264),t()(),n(265,"div",21),e(266,"\u2192"),t(),n(267,"div",22)(268,"code"),e(269),t()(),n(270,"div",23),e(271,"Preserves null return for === null checks"),t()(),n(272,"div",19)(273,"div",20)(274,"code"),e(275),t()(),n(276,"div",21),e(277,"\u2192"),t(),n(278,"div",22)(279,"code"),e(280),t()(),n(281,"div",23),e(282,"Deep chain: nested ternary guards"),t()(),n(283,"div",19)(284,"div",20)(285,"code"),e(286),t()(),n(287,"div",21),e(288,"\u2192"),t(),n(289,"div",22)(290,"code"),e(291),t()(),n(292,"div",23),e(293,"Guards start at first safe nav, not before"),t()(),n(294,"div",19)(295,"div",20)(296,"code"),e(297),t()(),n(298,"div",21),e(299,"\u2192"),t(),n(300,"div",22)(301,"code"),e(302),t()(),n(303,"div",23),e(304,'"prefixnull" vs "prefixundefined" would differ'),t()(),n(305,"div",19)(306,"div",20)(307,"code"),e(308),t()(),n(309,"div",21),e(310,"\u2192"),t(),n(311,"div",22)(312,"code"),e(313),t()(),n(314,"div",23),e(315,"null === null is true, undefined === null is false"),t()()(),n(316,"div",25)(317,"h4"),e(318,"Best Effort Mode (?? null fallback)"),t(),n(319,"p",18),e(320," When a "),n(321,"code"),e(322,"?."),t(),e(323," expression can't be converted to a ternary (method calls, keyed access, pipes), best-effort mode appends "),n(324,"code"),e(325,"?? null"),t(),e(326,". This ensures the return value remains null instead of undefined. "),t(),n(327,"div",19)(328,"div",20)(329,"code"),e(330),t()(),n(331,"div",21),e(332,"\u2192"),t(),n(333,"div",22)(334,"code"),e(335),t()(),n(336,"div",23),e(337,"Method calls: can't build ternary (side effects)"),t()(),n(338,"div",19)(339,"div",20)(340,"code"),e(341),t()(),n(342,"div",21),e(343,"\u2192"),t(),n(344,"div",22)(345,"code"),e(346),t()(),n(347,"div",23),e(348,"Keyed access: not a simple property chain"),t()(),n(349,"div",19)(350,"div",20)(351,"code"),e(352),t()(),n(353,"div",21),e(354,"\u2192"),t(),n(355,"div",22)(356,"code"),e(357),t()(),n(358,"div",23),e(359,"Pipe transform: best-effort fallback needed"),t()(),n(360,"div",19)(361,"div",20)(362,"code"),e(363),t()(),n(364,"div",21),e(365,"\u2192"),t(),n(366,"div",22)(367,"code"),e(368),t()(),n(369,"div",23),e(370,"Mixed chain with method: can't fully decompose"),t()()()(),n(371,"div",26)(372,"h3"),e(373,"\u26A0\uFE0F Known Gap: Host Bindings Always Use Legacy Semantics"),t(),n(374,"p",18),e(375," Even with "),n(376,"code"),e(377,"strictOptionalChainingSemantics: true"),t(),e(378,", host binding expressions ("),n(379,"code"),e(380,"@Component.host"),t(),e(381,", "),n(382,"code"),e(383,"@Directive.host"),t(),e(384,", "),n(385,"code"),e(386,"@HostBinding"),t(),e(387,") always use legacy semantics (returning "),n(388,"code"),e(389,"null"),t(),e(390,"). "),t(),n(391,"div",19)(392,"div",20)(393,"code"),e(394),t()(),n(395,"div",21),e(396,"\u2192"),t(),n(397,"div",22)(398,"code"),e(399,"Returns "),n(400,"strong"),e(401,"undefined"),t(),e(402," (native)"),t()(),n(403,"div",23),e(404,"Template expressions respect the setting"),t()(),n(405,"div",19)(406,"div",20)(407,"code"),e(408),t()(),n(409,"div",21),e(410,"\u2192"),t(),n(411,"div",22)(412,"code"),e(413,"Returns "),n(414,"strong"),e(415,"null"),t(),e(416," (legacy!)"),t()(),n(417,"div",23),e(418,"Host bindings always use HostBindingCompilationJob"),t()(),n(419,"div",19)(420,"div",20)(421,"code"),e(422),t()(),n(423,"div",21),e(424,"\u2192"),t(),n(425,"div",22)(426,"code"),e(427,'"Hello null" (not "Hello undefined")'),t()(),n(428,"div",23),e(429,"String concatenation with null vs undefined differs"),t()(),n(430,"div",27)(431,"div",28)(432,"span",29),e(433,"\u{1F6E0}\uFE0F"),t(),n(434,"strong"),e(435,"Status:"),t(),e(436," This gap is already in progress of being fixed and should work correctly when ready! "),t(),n(437,"p")(438,"strong"),e(439,"Root cause:"),t(),n(440,"code"),e(441,"HostBindingCompilationJob"),t(),e(442," is NOT an instance of "),n(443,"code"),e(444,"ComponentCompilationJob"),t(),e(445,", so "),n(446,"code"),e(447,"useJsSemantics"),t(),e(448," is always "),n(449,"code"),e(450,"false"),t(),e(451," in "),n(452,"code"),e(453,"expand_safe_reads.ts"),t(),e(454,"."),t(),n(455,"p")(456,"strong"),e(457,"Affected:"),t(),e(458," Component host bindings, directive host bindings, hostDirective bindings, @HostBinding decorators."),t(),n(459,"p")(460,"strong"),e(461,"Migration schematic:"),t(),e(462," Also misses host bindings \u2014 only visits "),n(463,"code"),e(464,"template"),t(),e(465," and "),n(466,"code"),e(467,"templateUrl"),t(),e(468," properties."),t()()(),n(469,"div",30)(470,"h3"),e(471,"\u{1F4A1} Inlay Hints Make the Difference Visible"),t(),n(472,"p",18),e(473," With "),n(474,"strong"),e(475,"inlay hints"),t(),e(476," enabled, the "),n(477,"code"),e(478,"null"),t(),e(479," vs "),n(480,"code"),e(481,"undefined"),t(),e(482," difference is immediately visible next to every "),n(483,"code"),e(484,"?."),t(),e(485," usage in the editor \u2014 without running the app. "),t(),n(486,"div",19)(487,"div",20)(488,"code"),e(489),n(490,"span",31),e(491,": string | undefined"),t()()(),n(492,"div",21),e(493,"vs"),t(),n(494,"div",22)(495,"code"),e(496),n(497,"span",32),e(498,": string | null"),t()()(),n(499,"div",23),e(500,"Inlay hint reveals semantics at a glance"),t()(),n(501,"div",33),e(502," See the "),n(503,"strong"),e(504,"Inlay Hints"),t(),e(505," demo for the complete reference of all 118 test scenarios and 25 configuration options. "),t()(),n(506,"div",34)(507,"h3"),e(508,"Community Issues Addressed"),t(),n(509,"p",35),e(510," These changes address longstanding community requests dating back to 2019: "),t(),n(511,"div",36)(512,"div",37)(513,"a",38),e(514,"#34385"),t(),n(515,"span",39),e(516,"Align with the optional chaining spec"),t()(),n(517,"p",40),e(518," Requests that template "),n(519,"code"),e(520,"?."),t(),e(521," match TC39 semantics (return "),n(522,"code"),e(523,"undefined"),t(),e(524," on short-circuit). Documents that generated TCB and runtime diverge from modern JS, and links to historical safe-navigation behavior. "),t(),n(525,"div",41)(526,"span",42),e(527,"runtime"),t(),n(528,"span",42),e(529,"type"),t(),n(530,"span",42),e(531,"migration"),t(),n(532,"span",42),e(533,"safe-navigation"),t()(),n(534,"p",43)(535,"strong"),e(536,"Addressed by:"),t(),n(537,"code"),e(538,"optionalChainingSemantics: 'native'"),t(),e(539," per-component and "),n(540,"code"),e(541,"strictOptionalChainingSemantics: true"),t(),e(542," project-wide setting. "),t()(),n(543,"div",36)(544,"div",37)(545,"a",44),e(546,"#37622"),t(),n(547,"span",39),e(548,"optional chaining uses 'null', but strictTemplates treats it as 'undefined'"),t()(),n(549,"p",40)(550,"code"),e(551,"foo?.bar"),t(),e(552," yields "),n(553,"code"),e(554,"null"),t(),e(555," at runtime, but strict template checking infers "),n(556,"code"),e(557,"undefined"),t(),e(558,". This means declared inputs may accept the wrong union type, causing confusing type errors. "),t(),n(559,"div",41)(560,"span",42),e(561,"runtime"),t(),n(562,"span",42),e(563,"type"),t(),n(564,"span",42),e(565,"compiler"),t()(),n(566,"p",43)(567,"strong"),e(568,"Addressed by:"),t(),e(569," Native semantics aligns runtime ("),n(570,"code"),e(571,"undefined"),t(),e(572,") with what TypeScript's type checker expects, eliminating the null/undefined mismatch. "),t()(),n(573,"div",36)(574,"div",37)(575,"a",45),e(576,"#37619"),t(),n(577,"span",39),e(578,"strictTemplates + strictNullChecks doesn't work well with optional chaining"),t()(),n(579,"p",40),e(580," Strictness flags plus "),n(581,"code"),e(582,"?."),t(),e(583,` trigger "Object is possibly 'undefined'" diagnostics even though runtime guards exist. Points to TCB generation and upstream compiler/type-checking limitations. `),t(),n(584,"div",41)(585,"span",42),e(586,"type"),t(),n(587,"span",42),e(588,"migration"),t(),n(589,"span",42),e(590,"partial-compilation"),t()(),n(591,"p",43)(592,"strong"),e(593,"Addressed by:"),t(),e(594," With native semantics, the TCB correctly models the runtime return type as "),n(595,"code"),e(596,"T | undefined"),t(),e(597,", matching TypeScript's own "),n(598,"code"),e(599,"?."),t(),e(600," type narrowing. "),t()()()()),r&2&&(i(15),k("","{",`
  "angularCompilerOptions": `,"{",`
    "strictOptionalChainingSemantics": true
  `,"}",`
`,"}"),i(10),_("configData",l.currentConfig()),i(),_("configData",l.currentConfig()),i(14),a(p(41,54,l.currentConfig())),i(54),a("{{ a?.b }}"),i(5),a("{{ a?.b }}"),i(6),a("{{ a?.b?.c?.d }}"),i(5),a("{{ a?.b?.c?.d }}"),i(6),a("{{ a?.b ?? 'fallback' }}"),i(5),a("{{ a?.b ?? 'fallback' }}"),i(6),a("{{ a?.b || 'default' }}"),i(5),a("{{ a?.b || 'default' }}"),i(6),a("{{ a?.b && something }}"),i(5),a("{{ a?.b && something }}"),i(6),a("{{ !a?.b }}"),i(5),a("{{ !a?.b }}"),i(6),a("{{ a?.b == null }}"),i(5),a("{{ a?.b == null }}"),i(6),a("{{ a?.b != null }}"),i(5),a("{{ a?.b != null }}"),i(6),a("{{ a?.b ? x : y }}"),i(5),a("{{ a?.b ? x : y }}"),i(17),E("@if (a?.b?.c) ","{","...","}"," @else if (a?.d)"),i(5),E("@if (a?.b?.c) ","{","...","}"," @else if (a?.d)"),i(55),h("","{{ a?.b }}"," in strict equality"),i(5),a("{{ a != null ? a.b : null }}"),i(6),h("","{{ a?.b?.c }}"," in sensitive ctx"),i(5),a("{{ a != null ? (a.b != null ? a.b.c : null) : null }}"),i(6),h("","{{ a.b?.c?.d }}"," mixed chain"),i(5),a("{{ a.b != null ? (a.b.c != null ? a.b.c.d : null) : null }}"),i(6),a('"prefix" + a?.b'),i(5),a('"prefix" + (a != null ? a.b : null)'),i(6),a("{{ a?.b === null }}"),i(5),a("{{ (a != null ? a.b : null) === null }}"),i(17),a("a?.method()"),i(5),a("a?.method() ?? null"),i(6),a("a?.[key]"),i(5),a("a?.[key] ?? null"),i(6),a("a?.b | pipe"),i(5),a("a?.b ?? null | pipe"),i(6),a("a?.b?.method()?.c"),i(5),a("a?.b?.method()?.c ?? null"),i(26),h("template: '","{{ user?.name }}","'"),i(14),E("host: ","{","'[style.color]': 'theme?.primaryColor'","}"),i(14),E("host: ","{",`'[attr.title]': '"Hello " + user?.name'`,"}"),i(67),a("{{ user?.name }}"),i(7),a("{{ user?.name }}"))},dependencies:[M,P,I],styles:[".demo-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:32px 32px 64px}.description[_ngcontent-%COMP%]{color:var(--adev-text-secondary);line-height:1.6}code[_ngcontent-%COMP%]{background:var(--adev-code-bg);border:1px solid var(--adev-code-border);padding:2px 6px;border-radius:4px;font-size:13px;color:var(--adev-primary)}.config-section[_ngcontent-%COMP%]{background:var(--adev-surface);border:1px solid var(--adev-border);padding:20px;border-radius:8px;margin:20px 0}.config-code[_ngcontent-%COMP%]{background:var(--adev-code-bg);color:var(--adev-code-text);border:1px solid var(--adev-code-border);padding:12px;border-radius:6px;font-size:13px;overflow-x:auto}.config-note[_ngcontent-%COMP%]{font-size:13px;color:var(--adev-text-secondary);margin-bottom:0}.side-by-side[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin:20px 0}.data-controls[_ngcontent-%COMP%]{background:var(--adev-surface);border:1px solid var(--adev-border);padding:20px;border-radius:8px;margin:20px 0}.control-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0}button[_ngcontent-%COMP%]{background:var(--adev-accent);color:#fff;border:none;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:13px}button[_ngcontent-%COMP%]:hover{opacity:.85}.null-btn[_ngcontent-%COMP%]{background:var(--adev-error)}.data-preview[_ngcontent-%COMP%]{background:var(--adev-code-bg);color:var(--adev-text-tertiary);border:1px solid var(--adev-code-border);padding:12px;border-radius:6px;font-size:12px;max-height:200px;overflow:auto}.migration-section[_ngcontent-%COMP%]{background:#4ade800f;border:1px solid rgba(74,222,128,.2);padding:20px;border-radius:8px;margin:20px 0}.migration-steps[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.step[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:flex-start;background:var(--adev-surface);padding:12px;border-radius:6px}.step-num[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:50%;background:var(--adev-success);color:#0f0f11;font-weight:700;font-size:14px;flex-shrink:0}.step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:13px;color:var(--adev-text-secondary)}.examples-section[_ngcontent-%COMP%]{background:var(--adev-surface);border:1px solid var(--adev-border);padding:20px;border-radius:8px;margin:20px 0}.examples-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--adev-text);border-bottom:1px solid var(--adev-border);padding-bottom:8px}.example-group[_ngcontent-%COMP%]{margin:16px 0;padding:16px;border-radius:8px}.example-group.safe[_ngcontent-%COMP%]{background:#4ade800f;border:1px solid rgba(74,222,128,.2)}.example-group.sensitive[_ngcontent-%COMP%]{background:#f871710f;border:1px solid rgba(248,113,113,.2)}.example-group.best-effort[_ngcontent-%COMP%]{background:#fbbf240f;border:1px solid rgba(251,191,36,.2)}.example-group[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0}.safe[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--adev-success)}.sensitive[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--adev-error)}.best-effort[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--adev-warning)}.group-description[_ngcontent-%COMP%]{font-size:13px;color:var(--adev-text-secondary);margin-bottom:12px}.example-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr 1fr;gap:8px;align-items:center;background:var(--adev-surface-2);padding:8px 12px;border-radius:6px;margin:6px 0;font-size:13px}.example-row[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{color:var(--adev-text-tertiary);font-size:16px;text-align:center}.example-row[_ngcontent-%COMP%]   .before[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{color:var(--adev-error)}.example-row[_ngcontent-%COMP%]   .after[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{color:var(--adev-success)}.example-row[_ngcontent-%COMP%]   .reason[_ngcontent-%COMP%]{color:var(--adev-text-tertiary);font-size:12px;font-style:italic}.issues-section[_ngcontent-%COMP%]{background:#a78bfa0f;border:1px solid rgba(167,139,250,.2);padding:20px;border-radius:8px;margin:20px 0}.issues-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--adev-accent);border-bottom:1px solid var(--adev-border);padding-bottom:8px}.issues-intro[_ngcontent-%COMP%]{font-size:13px;color:var(--adev-text-secondary)}.issue-card[_ngcontent-%COMP%]{background:var(--adev-surface);border:1px solid var(--adev-border);padding:16px;border-radius:8px;margin:12px 0}.issue-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:8px}.issue-link[_ngcontent-%COMP%]{background:var(--adev-accent);color:#0f0f11;padding:2px 8px;border-radius:4px;font-size:12px;font-weight:700;text-decoration:none}.issue-link[_ngcontent-%COMP%]:hover{opacity:.85}.issue-title[_ngcontent-%COMP%]{font-weight:600;color:var(--adev-text);font-size:14px}.issue-desc[_ngcontent-%COMP%]{font-size:13px;color:var(--adev-text-secondary);line-height:1.6}.issue-tags[_ngcontent-%COMP%]{display:flex;gap:6px;flex-wrap:wrap;margin:8px 0}.tag[_ngcontent-%COMP%]{background:#a78bfa1f;color:var(--adev-accent);padding:2px 8px;border-radius:6px;font-size:11px;font-weight:600}.addressed[_ngcontent-%COMP%]{background:#4ade8014;border-left:3px solid var(--adev-success);padding:8px 12px;border-radius:6px;font-size:13px;color:var(--adev-success);margin-bottom:0}.host-bindings-section[_ngcontent-%COMP%]{background:#fbbf240f;border:1px solid rgba(251,191,36,.2);padding:20px;border-radius:8px;margin:20px 0}.host-bindings-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--adev-warning)}.gap-note[_ngcontent-%COMP%]{margin-top:12px}.gap-note[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0;font-size:13px}.status-highlight[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4ade801a,#22c55e0d);border:2px solid var(--adev-success);border-radius:8px;padding:12px 16px;margin-bottom:16px;font-size:15px;font-weight:600;color:var(--adev-success);display:flex;align-items:center;gap:8px;box-shadow:0 2px 8px #4ade8026}.status-icon[_ngcontent-%COMP%]{font-size:18px;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.7}}.note-box[_ngcontent-%COMP%]{background:var(--adev-surface);border:1px solid var(--adev-border);border-left:3px solid var(--adev-info);border-radius:8px;padding:14px 16px;font-size:14px;color:var(--adev-text-secondary);line-height:1.6}.inlay-hints-section[_ngcontent-%COMP%]{background:#f0a0c80f;border:1px solid rgba(240,160,200,.2);padding:20px;border-radius:8px;margin:20px 0}.inlay-hints-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--adev-primary)}.native-hint[_ngcontent-%COMP%]{color:#22c55e;font-style:italic;opacity:.7}.legacy-hint[_ngcontent-%COMP%]{color:#fb923c;font-style:italic;opacity:.7}@media(max-width:768px){.side-by-side[_ngcontent-%COMP%]{grid-template-columns:1fr}.example-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:4px}.example-row[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:none}}"]})};export{M as LegacyChainingComponent,D as MixedChainingDemoComponent,P as NativeChainingComponent,y as StringifyNullishPipe};
